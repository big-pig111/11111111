<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Phone Simulator</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            position: fixed;
        }
        
        .app-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100%;
            padding: 10px;
            overflow: hidden;
            position: relative;
            z-index: 2;
        }
        
        .phone-container {
            position: relative;
            width: 420px;
            height: 900px;
            background: #222;
            border-radius: 40px;
            box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .phone-top {
            width: 200px;
            height: 14px;
            background-color: #222;
            border-radius: 7px;
            margin-bottom: 15px;
        }
        
        .phone-bezel {
            width: 96%;
            height: 96%;
            background: #181818;
            border-radius: 24px;
            overflow: hidden;
            border: 4px solid #111;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: none;
        }
        
        .phone-screen {
            width: 100%;
            height: 100%;
            background: url('1.jpg') center center/cover no-repeat;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .status-bar {
            width: 100%;
            height: 40px;
            background: linear-gradient(to bottom, #1a1a1a, #333);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 32px;
            color: #fff;
            font-size: 14px;
        }
        
        .battery {
            width: 30px;
            height: 15px;
            border: 1px solid #fff;
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .battery-level {
            width: 20px;
            height: 10px;
            background-color: #4CAF50;
            border-radius: 2px;
        }
        
        .app-grid {
            width: 100%;
            height: calc(100% - 100px);
            padding: 20px 16px 8px 16px;
            box-sizing: border-box;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 16px;
            align-content: start;
        }
        
        .app-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s;
            justify-self: center;
        }
        
        .app-icon:hover {
            transform: scale(1.1);
        }
        
        .icon {
            width: 60px;
            height: 60px;
            border-radius: 18px;
            background-color: #444;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 6px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
        }
        
        .icon img {
            width: 36px;
            height: 36px;
        }
        
        .icon-text {
            font-size: 11px;
            color: #fff;
            text-align: center;
            font-weight: 500;
        }
        
        /* ÁâπÂÆöÂ∫îÁî®ÂõæÊ†áÁöÑÂ∏ÉÂ±Ä‰ΩçÁΩÆ */
        .app-icon[data-app="message"] { grid-column: 1; grid-row: 1; }
        .app-icon[data-app="browser"] { grid-column: 2; grid-row: 1; }
        .app-icon[data-app="camera"] { grid-column: 3; grid-row: 1; }
        .app-icon[data-app="settings"] { grid-column: 4; grid-row: 1; }
        .app-icon[data-app="gallery"] { grid-column: 1; grid-row: 2; }
        .app-icon[data-app="music"] { grid-column: 2; grid-row: 2; }
        .app-icon[data-app="calendar"] { grid-column: 3; grid-row: 2; }
        .app-icon[data-app="clock"] { grid-column: 4; grid-row: 2; }
        
        /* Â∫ïÈÉ®dockÂå∫Âüü */
        .dock {
            position: absolute;
            bottom: 12px;
            left: 12px;
            right: 12px;
            height: 85px;
            background-color: rgba(40, 40, 40, 0.9);
            border-radius: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 24px;
            padding: 0 24px;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }
        
        .dock .app-icon {
            margin: 0;
        }
        
        .dock .icon {
            width: 55px;
            height: 55px;
            border-radius: 16px;
            background-color: #555;
            margin-bottom: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        }
        
        .dock .icon-text {
            font-size: 10px;
        }
        

        
        /* ÊâãÊú∫ÈîÆÁõòÊ†∑Âºè */
        #phoneKeyboard.show {
            animation: slideUpKeyboard 0.3s ease-out;
        }
        
        @keyframes slideUpKeyboard {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .mobile-key-row {
            display: flex;
            justify-content: center;
            gap: 6px;
            margin-bottom: 8px;
        }
        
        .mobile-key {
            flex: 1;
            height: 42px;
            max-width: 32px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            user-select: none;
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .mobile-key:active,
        .mobile-key.pressed {
            transform: scale(0.95);
            background: rgba(76, 175, 80, 0.8);
            border-color: #4CAF50;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .mobile-key-space {
            flex: 3;
            max-width: 120px;
            font-size: 14px;
        }
        
        .mobile-key-special {
            background: rgba(74, 144, 226, 0.3);
            border-color: rgba(74, 144, 226, 0.5);
            font-size: 18px;
        }
        
        .mobile-key-function {
            background: rgba(158, 158, 158, 0.3);
            border-color: rgba(158, 158, 158, 0.5);
            font-size: 12px;
        }
        
        .mobile-key-special:active,
        .mobile-key-special.pressed {
            background: rgba(74, 144, 226, 0.8);
        }
        
        .mobile-key-function:active,
        .mobile-key-function.pressed {
            background: rgba(158, 158, 158, 0.8);
        }
        

        
        .app-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: none;
            flex-direction: column;
            padding: 60px 15px 12px 15px;
            box-sizing: border-box;
            color: #fff;
            border-radius: 0 0 20px 20px;
            z-index: 25;
        }
        
        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            margin-left: 8px;
        }
        
        .app-title {
            font-size: 24px;
            font-weight: bold;
        }
        
        .back-btn {
            background-color: #444;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin-bottom: 0;
            padding-bottom: 10px;
            max-height: calc(100% - 100px); /* Â¢ûÂ§ßÂèØÊªöÂä®Âå∫Âüü */
            scrollbar-width: thick; /* Êõ¥ÂÆΩÁöÑÊªöÂä®Êù° */
            scrollbar-color: rgba(120,120,120,0.6) #222;
        }
        
        .chat-messages::after {
            content: "";
            display: table;
            clear: both;
        }
        
        .chat-messages::-webkit-scrollbar {
            width: 14px; /* Êõ¥ÂÆΩÁöÑÊªöÂä®Êù° */
        }
        
        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(120,120,120,0.6);
            border-radius: 8px;
        }
        
        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(80,80,80,0.8);
        }
        
        .message {
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 20px;
            margin-bottom: 10px;
            position: relative;
            clear: both;
            word-wrap: break-word;
        }
        
        .message.user {
            background-color: #4CAF50;
            float: right;
            border-bottom-right-radius: 5px;
            margin-left: auto;
        }
        
        .message.friend {
            background-color: #555;
            float: left;
            border-bottom-left-radius: 5px;
            margin-right: auto;
        }
        
        .message-time {
            font-size: 10px;
            color: #888;
            position: absolute;
            top: -15px;
        }
        
        .message-user {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .chat-input {
            position: absolute;
            bottom: 12px;
            left: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            background-color: #000;
            padding: 10px 0;
            z-index: 10;
        }
        
        .input-box {
            flex: 1;
            height: 40px;
            background-color: #555;
            border-radius: 20px;
            padding: 0 15px;
            display: flex;
            align-items: center;
        }
        
        .input-box input {
            width: 100%;
            background: none;
            border: none;
            color: #fff;
            outline: none;
        }
        
        .send-btn {
            width: 40px;
            height: 40px;
            background-color: #4CAF50;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .lock-screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(#f7e199, #e6c15a);
            z-index: 20;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #7a2d1b;
            font-family: 'Times New Roman', serif;
            border-radius: 20px;
            padding: 10px;
        }
        .lock-time {
            font-size: 56px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .lock-date {
            font-size: 20px;
            margin-bottom: 30px;
        }
        .lock-title {
            font-size: 36px;
            letter-spacing: 8px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .lock-mobile {
            font-size: 22px;
            color: #1a3a5b;
            letter-spacing: 2px;
        }
        .lock-slogan {
            font-size: 26px;
            margin: 30px 0 20px 0;
            text-align: center;
        }
        .lock-flag {
            width: 80%;
            height: 60px;
            background: none;
            margin-bottom: 20px;
        }
        .lock-unlock-tip {
            font-size: 14px;
            color: #888;
            margin-top: 20px;
        }
        .lock-bottom-img {
            width: 80%;
            display: block;
            margin: 48px auto 0 auto;
        }
        /* Êñ∞Â¢ûÔºöÂ∑¶Âè≥Â§ßÂõæÂÆπÂô®Ê†∑Âºè */
        .side-image {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 340px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
            pointer-events: none;
        }
        .side-image.left {
            left: 0;
        }
        .side-image.right {
            right: 0;
        }
        .side-image img {
            width: 500px;
            height: 500px;
            max-width: 500px;
            max-height: 500px;
            object-fit: cover;
            opacity: 0.98;
        }
        @media (max-width: 1100px) {
            .side-image { display: none; }
        }
        /* Browser full-screen iframe */
        #browserApp {
            padding: 0 !important;
        }
        #browserApp .app-header {
            display: none;
        }
        #browserApp iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <!-- Êñ∞Â¢ûÔºöÂ∑¶Âè≥‰∏§‰æßÂ§ßÂõæ -->
    <div class="side-image left"><img src="11.png" alt="left"></div>
    <div class="side-image right"><img src="22.png" alt="right"></div>
    <div class="app-wrapper">
        <div class="phone-container">
        <div class="phone-top"></div>
        <div class="phone-bezel">
            <div class="phone-screen" id="phoneScreen">
                <div class="lock-screen" id="lockScreen">
                    <div class="lock-time-block" style="display: flex; flex-direction: column; align-items: center; margin: 60px 0 32px 0;">
                        <div class="lock-time" id="lockTime">12:00</div>
                        <div class="lock-date" id="lockDate">January 20, 2025</div>
                    </div>
                    <div class="lock-title">TRUMP<br><span class="lock-mobile">MOBILE</span></div>
                    <div class="lock-slogan">Make America<br>Great Again</div>
                    <div class="lock-flag"></div>
                    <img src="1.png" alt="flag" class="lock-bottom-img" style="width:80%;display:block;margin:48px auto 0 auto;">
                    <div class="lock-unlock-tip">Tap to unlock</div>
                </div>
                <div class="status-bar">
                    <div></div>
                    <div class="battery">
                        <div class="battery-level"></div>
                    </div>
                </div>
                <div class="app-grid" id="appGrid">
                    <div class="app-icon" data-app="message">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z'/%3E%3C/svg%3E" alt="Message Icon">
                        </div>
                        <div class="icon-text">Messages</div>
                    </div>
                    <div class="app-icon" data-app="browser">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z'/%3E%3Cpath d='M12 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z'/%3E%3C/svg%3E" alt="Browser Icon">
                        </div>
                        <div class="icon-text">Browser</div>
                    </div>
                    <div class="app-icon" data-app="camera">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M3 9h18v6H3V9zm0-4h18v2H3V5zm0 8h18v2H3v-2zm0 4h18v2H3v-2zm10-8c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z'/%3E%3C/svg%3E" alt="Camera Icon">
                        </div>
                        <div class="icon-text">Camera</div>
                    </div>
                    <div class="app-icon" data-app="settings">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M12 1c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1zm0 18c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1s1-.45 1-1v-1c0-.55-.45-1-1-1zM5.99 4.58c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.42 1.42c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L5.99 4.58zm12.02 12.02c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l1.42 1.42c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41l-1.42-1.42zM19.59 7.41c-.39-.39-1.02-.39-1.41 0L12 13.59l-6.17-6.17c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l6.97 6.97c.39.39 1.02.39 1.41 0l9.97-9.97c.39-.39.39-1.02 0-1.41z'/%3E%3C/svg%3E" alt="Settings Icon">
                        </div>
                        <div class="icon-text">Settings</div>
                    </div>
                    <div class="app-icon" data-app="gallery">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-2zm0 14H4V8h14v10z'/%3E%3Cpath d='M13 17h-2v-2h2v2zm0-4h-2V9h2v4z'/%3E%3C/svg%3E" alt="Gallery Icon">
                        </div>
                        <div class="icon-text">Gallery</div>
                    </div>
                    <div class="app-icon" data-app="music">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3C/svg%3E" alt="Music Icon">
                        </div>
                        <div class="icon-text">Music</div>
                    </div>
                    <div class="app-icon" data-app="calendar">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zm-7-10c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z'/%3E%3C/svg%3E" alt="Calendar Icon">
                        </div>
                        <div class="icon-text">Calendar</div>
                    </div>
                    <div class="app-icon" data-app="clock">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z'/%3E%3C/svg%3E" alt="Clock Icon">
                        </div>
                        <div class="icon-text">Clock</div>
                    </div>
                </div>
                
                <!-- Â∫ïÈÉ®dockÂå∫Âüü -->
                <div class="dock">
                    <div class="app-icon" data-app="phone">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3E%3C/svg%3E" alt="Phone Icon">
                        </div>
                        <div class="icon-text">Phone</div>
                    </div>
                    <div class="app-icon" data-app="message">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z'/%3E%3C/svg%3E" alt="Message Icon">
                        </div>
                        <div class="icon-text">Messages</div>
                    </div>
                    <div class="app-icon" data-app="browser">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z'/%3E%3Cpath d='M12 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zm0-3.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z'/%3E%3C/svg%3E" alt="Browser Icon">
                        </div>
                        <div class="icon-text">Browser</div>
                    </div>
                    <div class="app-icon" data-app="music">
                        <div class="icon">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 24 24' fill='%23fff'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3C/svg%3E" alt="Music Icon">
                        </div>
                        <div class="icon-text">Music</div>
                    </div>
                </div>
                

                
                <!-- Â∫îÁî®ÂÜÖÂÆπÂå∫Âüü -->
                <div class="app-content" id="messageApp">
        <div class="app-header">
            <div class="app-title">Messages</div>
            <div class="back-btn" id="backToHome">‚Üê</div>
        </div>
        <div class="chat-messages" id="chatMessages" style="padding-bottom: 80px;">
            <!-- Ê∂àÊÅØÂ∞Ü‰ªéFirebaseÂÆûÊó∂Âä†ËΩΩ -->

        </div>
        <div class="chat-input">
            <div class="input-box">
                <input type="text" id="chatInput" placeholder="Type a message...">
            </div>
            <div class="send-btn" id="sendMessage">‚Üí</div>
            <div class="send-btn" id="debugKeyboard" style="background-color: #FF5722; margin-left: 5px;">‚å®</div>
        </div>
    </div>
    
    <div class="app-content" id="browserApp">
        <div class="app-header">
            <div class="app-title">Browser</div>
            <div class="back-btn" id="backToHome2">‚Üê</div>
        </div>
        <div style="flex: 1; overflow:hidden;">
            <iframe src="https://trumpmobile.com/" style="width:100%; height:100%; border:none;"></iframe>
        </div>
    </div>
    
    <div class="app-content" id="phoneApp">
        <div class="app-header">
            <div class="app-title">Phone</div>
            <div class="back-btn" id="backToHome3">‚Üê</div>
        </div>
        <div style="flex: 1; padding: 10px 0;">
            <!-- ÈÄöËØùËÆ∞ÂΩï -->
            <div style="background: #333; margin-bottom: 15px; border-radius: 15px; overflow: hidden;">
                <div style="padding: 15px; background: #444;">
                    <div style="color: #fff; font-size: 18px; font-weight: bold;">Recent Calls</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 45px; height: 45px; background: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üë§</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px; margin-bottom: 3px;">John</div>
                        <div style="color: #888; font-size: 12px;">Today 15:30</div>
                    </div>
                    <div style="color: #4CAF50; font-size: 20px;">üìû</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 45px; height: 45px; background: #2196F3; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üë§</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px; margin-bottom: 3px;">Jane</div>
                        <div style="color: #888; font-size: 12px;">Yesterday 20:15</div>
                    </div>
                    <div style="color: #f44336; font-size: 20px;">üìû</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center;">
                    <div style="width: 45px; height: 45px; background: #FF9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üë§</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px; margin-bottom: 3px;">Alex</div>
                        <div style="color: #888; font-size: 12px;">Jan 18 14:20</div>
                    </div>
                    <div style="color: #4CAF50; font-size: 20px;">üìû</div>
                </div>
            </div>
            
            <!-- Êã®Âè∑ÊåâÈíÆ -->
            <div style="text-align: center;">
                <div style="width: 60px; height: 60px; background: #4CAF50; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 24px; box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);">üìû</div>
                <div style="color: #888; font-size: 14px; margin-top: 8px;">Dial</div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="cameraApp">
        <div class="app-header">
            <div class="app-title">Camera</div>
            <div class="back-btn" id="backToHome4">‚Üê</div>
        </div>
        <div style="flex: 1; position: relative; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; flex-direction: column; justify-content: space-between; padding: 20px 0;">
            <!-- Camera Preview Area -->
            <div style="flex: 1; display: flex; align-items: center; justify-content: center; position: relative;">
                <video id="cameraPreview" autoplay playsinline muted style="max-width: 100%; max-height: 100%; border-radius: 20px; background: #000;"></video>
                <div id="cameraPlaceholder" style="position: absolute; display: flex; flex-direction: column; align-items: center; justify-content: center; color: white;">
                    <div style="font-size: 48px; margin-bottom: 10px;">üì∑</div>
                    <div style="font-size: 16px;">Camera Preview</div>
                </div>
            </div>
            
            <!-- Â∫ïÈÉ®ÊéßÂà∂Ê†è -->
            <div style="display: flex; justify-content: space-around; align-items: center; padding: 0 20px;">
                <div style="width: 45px; height: 45px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; cursor: pointer;">üñºÔ∏è</div>
                <div style="width: 70px; height: 70px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 30px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">üì∏</div>
                <div style="width: 45px; height: 45px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; cursor: pointer;">üîÑ</div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="settingsApp">
        <div class="app-header">
            <div class="app-title">Settings</div>
            <div class="back-btn" id="backToHome5">‚Üê</div>
        </div>
        <div style="flex: 1; overflow-y: auto; padding: 10px 0;">
            <div style="background: #333; margin-bottom: 15px; border-radius: 15px; overflow: hidden;">
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 40px; height: 40px; background: #4CAF50; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üë§</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px; margin-bottom: 3px;">Apple ID</div>
                        <div style="color: #888; font-size: 14px;">User Account Settings</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
            </div>
            
            <div style="background: #333; margin-bottom: 15px; border-radius: 15px; overflow: hidden;">
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 40px; height: 40px; background: #2196F3; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üì∂</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px;">Cellular</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 40px; height: 40px; background: #9C27B0; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üì±</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px;">Display & Brightness</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #555;">
                    <div style="width: 40px; height: 40px; background: #FF5722; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üîä</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px;">Sound & Haptics</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
                <div style="padding: 15px; display: flex; align-items: center;">
                    <div style="width: 40px; height: 40px; background: #607D8B; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">üîí</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px;">Privacy & Security</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
            </div>
            
            <div style="background: #333; margin-bottom: 15px; border-radius: 15px; overflow: hidden;">
                <div style="padding: 15px; display: flex; align-items: center;">
                    <div style="width: 40px; height: 40px; background: #795548; border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px; color: white; font-size: 18px;">‚ÑπÔ∏è</div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 16px;">About</div>
                    </div>
                    <div style="color: #888; font-size: 18px;">‚Ä∫</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="galleryApp">
        <div class="app-header">
            <div class="app-title">Gallery</div>
            <div class="back-btn" id="backToHome6">‚Üê</div>
        </div>
        <div style="flex: 1; padding: 10px 0;">
            <!-- Áõ∏ÂÜåÁªüËÆ° -->
            <div style="text-align: center; margin-bottom: 20px;">
                <div style="color: #fff; font-size: 24px; margin-bottom: 5px;">126 Photos</div>
                <div style="color: #888; font-size: 14px;">Recently added today</div>
            </div>
            
            <!-- Áõ∏ÂÜåÂàÜÁ±ª -->
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; padding: 20px; text-align: center;">
                    <div style="font-size: 32px; margin-bottom: 8px;">üì∏</div>
                    <div style="color: white; font-size: 16px; font-weight: bold;">Recents</div>
                    <div style="color: rgba(255,255,255,0.8); font-size: 12px;">28 items</div>
                </div>
                <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 15px; padding: 20px; text-align: center;">
                    <div style="font-size: 32px; margin-bottom: 8px;">‚ù§Ô∏è</div>
                    <div style="color: white; font-size: 16px; font-weight: bold;">Favorites</div>
                    <div style="color: rgba(255,255,255,0.8); font-size: 12px;">12 items</div>
                </div>
            </div>
            
            <!-- ÁÖßÁâáÁΩëÊ†º -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px;">
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #ff6b6b, #feca57); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üåÖ</div>
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #48cae4, #023047); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üåä</div>
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #54a0ff, #2e86de); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üèîÔ∏è</div>
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #5f27cd, #341f97); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üåô</div>
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #00d2d3, #54a0ff); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">üå∏</div>
                <div style="aspect-ratio: 1; background: linear-gradient(45deg, #ff9ff3, #f368e0); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">ü¶ã</div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="musicApp">
        <div class="app-header">
            <div class="app-title">Music</div>
            <div class="back-btn" id="backToHome7">‚Üê</div>
        </div>
        <div style="flex: 1; display: flex; flex-direction: column; padding: 20px 0;">
            <!-- ÂΩìÂâçÊí≠Êîæ -->
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="width: 250px; height: 250px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 25px; margin: 0 auto 20px auto; display: flex; align-items: center; justify-content: center; font-size: 64px; color: white; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);">üéµ</div>
                <div style="color: #fff; font-size: 20px; font-weight: bold; margin-bottom: 5px;">Relaxing Music</div>
                <div style="color: #888; font-size: 16px; margin-bottom: 20px;">Unknown Artist</div>
                
                <!-- ËøõÂ∫¶Êù° -->
                <div style="margin-bottom: 20px;">
                    <div style="display: flex; justify-content: space-between; color: #888; font-size: 12px; margin-bottom: 8px;">
                        <span>1:25</span>
                        <span>3:47</span>
                    </div>
                    <div style="height: 4px; background: #333; border-radius: 2px; position: relative;">
                        <div style="width: 35%; height: 100%; background: linear-gradient(90deg, #667eea, #764ba2); border-radius: 2px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- ÊéßÂà∂ÊåâÈíÆ -->
            <div style="display: flex; justify-content: center; align-items: center; gap: 25px;">
                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 24px;">‚èÆ</div>
                <div style="width: 70px; height: 70px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 32px; color: white; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">‚è∏</div>
                <div style="width: 50px; height: 50px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 24px;">‚è≠</div>
            </div>
            
            <!-- Â∫ïÈÉ®ÂäüËÉΩÊåâÈíÆ -->
            <div style="display: flex; justify-content: space-around; margin-top: auto; padding: 20px 0;">
                <div style="text-align: center; cursor: pointer;">
                    <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px auto; color: white; font-size: 18px;">üîÄ</div>
                    <div style="color: #888; font-size: 10px;">Random</div>
                </div>
                <div style="text-align: center; cursor: pointer;">
                    <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px auto; color: white; font-size: 18px;">üîÅ</div>
                    <div style="color: #888; font-size: 10px;">Loop</div>
                </div>
                <div style="text-align: center; cursor: pointer;">
                    <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 5px auto; color: white; font-size: 18px;">üìù</div>
                    <div style="color: #888; font-size: 10px;">Lyrics</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="calendarApp">
        <div class="app-header">
            <div class="app-title">Calendar</div>
            <div class="back-btn" id="backToHome8">‚Üê</div>
        </div>
        <div style="flex: 1; padding: 15px 0;">
            <!-- Êúà‰ªΩÂØºËà™ -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding: 0 10px;">
                <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 18px;">‚Äπ</div>
                <div style="text-align: center;">
                    <div style="color: #fff; font-size: 24px; font-weight: bold;">January 2025</div>
                    <div style="color: #888; font-size: 14px;">Today is Monday 20</div>
                </div>
                <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; font-size: 18px;">‚Ä∫</div>
            </div>
            
            <!-- Êó•ÂéÜÁΩëÊ†º -->
            <div style="background: #333; border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; text-align: center;">
                    <!-- ÊòüÊúüÊ†áÈ¢ò -->
                    <div style="color: #f44336; font-size: 12px; font-weight: bold; padding: 8px;">Sun</div>
                    <div style="color: #888; font-size: 12px; font-weight: bold; padding: 8px;">Mon</div>
                    <div style="color: #888; font-size: 12px; font-weight: bold; padding: 8px;">Tue</div>
                    <div style="color: #888; font-size: 12px; font-weight: bold; padding: 8px;">Wed</div>
                    <div style="color: #888; font-size: 12px; font-weight: bold; padding: 8px;">Thu</div>
                    <div style="color: #888; font-size: 12px; font-weight: bold; padding: 8px;">Fri</div>
                    <div style="color: #2196F3; font-size: 12px; font-weight: bold; padding: 8px;">Sat</div>
                    
                    <!-- Êó•Êúü -->
                    <div style="padding: 12px 8px; font-size: 14px; color: #888;">29</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #888;">30</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">1</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">2</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">3</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">4</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">5</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">6</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">7</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">8</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">9</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">10</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">11</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">12</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">13</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">14</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff; background: #FF5722; border-radius: 50%;">15</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">16</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">17</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">18</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">19</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #000; background: #4CAF50; border-radius: 50%; font-weight: bold;">20</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">21</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">22</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">23</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">24</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">25</div>
                    <div style="padding: 12px 8px; font-size: 14px; color: #fff;">26</div>
                </div>
            </div>
            
            <!-- ‰ªäÊó•‰∫ã‰ª∂ -->
            <div style="background: #333; border-radius: 15px; padding: 15px;">
                <div style="color: #fff; font-size: 16px; font-weight: bold; margin-bottom: 15px;">Today's Events</div>
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <div style="width: 8px; height: 8px; background: #4CAF50; border-radius: 50%; margin-right: 12px;"></div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 14px;">Work Meeting</div>
                        <div style="color: #888; font-size: 12px;">09:00 - 10:30</div>
                    </div>
                </div>
                <div style="display: flex; align-items: center;">
                    <div style="width: 8px; height: 8px; background: #2196F3; border-radius: 50%; margin-right: 12px;"></div>
                    <div style="flex: 1;">
                        <div style="color: #fff; font-size: 14px;">Lunch Date</div>
                        <div style="color: #888; font-size: 12px;">12:00 - 13:30</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="app-content" id="clockApp">
        <div class="app-header">
            <div class="app-title">Clock</div>
            <div class="back-btn" id="backToHome9">‚Üê</div>
        </div>
        <div style="flex: 1; display: flex; flex-direction: column; padding: 20px 0;">
            <!-- ‰∏ªÊó∂Èíü -->
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="width: 280px; height: 280px; border: 6px solid #333; border-radius: 50%; position: relative; margin: 0 auto 20px auto; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); display: flex; align-items: center; justify-content: center; box-shadow: inset 0 0 50px rgba(0,0,0,0.5), 0 0 50px rgba(102, 126, 234, 0.2);">
                    <!-- Êó∂ÈíüÂàªÂ∫¶ -->
                    <div style="position: absolute; width: 100%; height: 100%;">
                        <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 2px; height: 20px; background: #666;"></div>
                        <div style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 2px; height: 20px; background: #666;"></div>
                        <div style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); width: 20px; height: 2px; background: #666;"></div>
                        <div style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); width: 20px; height: 2px; background: #666;"></div>
                    </div>
                    <!-- Êï∞Â≠óÊó∂Èó¥ -->
                    <div style="color: #fff; font-size: 48px; font-weight: bold; font-family: 'Courier New', monospace;" id="currentTime">12:00</div>
                    <!-- ‰∏≠ÂøÉÁÇπ -->
                    <div style="position: absolute; width: 12px; height: 12px; background: #4CAF50; border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
                </div>
                <div style="color: #888; font-size: 18px; margin-bottom: 5px;">Beijing Time</div>
                <div style="color: #666; font-size: 14px;" id="currentDate">January 20, 2025 Monday</div>
            </div>
            
            <!-- ‰∏ñÁïåÊó∂Èíü -->
            <div style="background: #333; border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                <div style="color: #fff; font-size: 16px; font-weight: bold; margin-bottom: 15px;">World Clock</div>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                    <div style="text-align: center; padding: 15px; background: #444; border-radius: 10px;">
                        <div style="color: #888; font-size: 12px; margin-bottom: 5px;">New York</div>
                        <div style="color: #fff; font-size: 18px; font-weight: bold;">23:00</div>
                        <div style="color: #666; font-size: 10px;">-13h</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #444; border-radius: 10px;">
                        <div style="color: #888; font-size: 12px; margin-bottom: 5px;">London</div>
                        <div style="color: #fff; font-size: 18px; font-weight: bold;">04:00</div>
                        <div style="color: #666; font-size: 10px;">-8Â∞èÊó∂</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #444; border-radius: 10px;">
                        <div style="color: #888; font-size: 12px; margin-bottom: 5px;">‰∏ú‰∫¨</div>
                        <div style="color: #fff; font-size: 18px; font-weight: bold;">13:00</div>
                        <div style="color: #666; font-size: 10px;">+1Â∞èÊó∂</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #444; border-radius: 10px;">
                        <div style="color: #888; font-size: 12px; margin-bottom: 5px;">ÊÇâÂ∞º</div>
                        <div style="color: #fff; font-size: 18px; font-weight: bold;">15:00</div>
                        <div style="color: #666; font-size: 10px;">+3Â∞èÊó∂</div>
                    </div>
                </div>
            </div>
            
            <!-- ÈóπÈíü -->
            <div style="background: #333; border-radius: 15px; padding: 15px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <div style="color: #fff; font-size: 16px; font-weight: bold;">ÈóπÈíü</div>
                    <div style="color: #4CAF50; font-size: 24px; cursor: pointer;">+</div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #555;">
                    <div>
                        <div style="color: #fff; font-size: 18px; font-weight: bold;">07:30</div>
                        <div style="color: #888; font-size: 12px;">Â∑•‰ΩúÊó•</div>
                    </div>
                    <div style="width: 40px; height: 24px; background: #4CAF50; border-radius: 12px; position: relative; cursor: pointer;">
                        <div style="width: 20px; height: 20px; background: white; border-radius: 50%; position: absolute; top: 2px; right: 2px;"></div>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0;">
                    <div>
                        <div style="color: #666; font-size: 18px;">09:00</div>
                        <div style="color: #555; font-size: 12px;">Âë®Êú´</div>
                    </div>
                    <div style="width: 40px; height: 24px; background: #555; border-radius: 12px; position: relative; cursor: pointer;">
                        <div style="width: 20px; height: 20px; background: white; border-radius: 50%; position: absolute; top: 2px; left: 2px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            </div>
        </div>
                <!-- ÊâãÊú∫ÈîÆÁõò - ÂÆåÊï¥ÁâàÊú¨ -->
                <div id="phoneKeyboard" style="
                    position: absolute; 
                    bottom: 12px; 
                    left: 12px; 
                    right: 12px; 
                    height: 240px; 
                    background: rgba(40, 40, 40, 0.95); 
                    border-radius: 15px 15px 0 0; 
                    z-index: 1000; 
                    display: none; 
                    flex-direction: column; 
                    padding: 12px 8px 8px 8px;
                    box-sizing: border-box;
                    backdrop-filter: blur(20px);
                    box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
                    border-top: 1px solid rgba(255,255,255,0.1);
                    max-width: 404px;
                ">
                    <!-- ÈîÆÁõòÊåáÁ§∫Âô® -->
                    <div style="width: 40px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px; margin: 0 auto 12px auto;"></div>
                    
                    <!-- Á¨¨‰∏ÄË°åÔºöQWERTYUIOP -->
                    <div class="mobile-key-row">
                        <div class="mobile-key" data-key="q">Q</div>
                        <div class="mobile-key" data-key="w">W</div>
                        <div class="mobile-key" data-key="e">E</div>
                        <div class="mobile-key" data-key="r">R</div>
                        <div class="mobile-key" data-key="t">T</div>
                        <div class="mobile-key" data-key="y">Y</div>
                        <div class="mobile-key" data-key="u">U</div>
                        <div class="mobile-key" data-key="i">I</div>
                        <div class="mobile-key" data-key="o">O</div>
                        <div class="mobile-key" data-key="p">P</div>
                    </div>
                    
                    <!-- Á¨¨‰∫åË°åÔºöASDFGHJKL -->
                    <div class="mobile-key-row">
                        <div class="mobile-key" data-key="a">A</div>
                        <div class="mobile-key" data-key="s">S</div>
                        <div class="mobile-key" data-key="d">D</div>
                        <div class="mobile-key" data-key="f">F</div>
                        <div class="mobile-key" data-key="g">G</div>
                        <div class="mobile-key" data-key="h">H</div>
                        <div class="mobile-key" data-key="j">J</div>
                        <div class="mobile-key" data-key="k">K</div>
                        <div class="mobile-key" data-key="l">L</div>
                    </div>
                    
                    <!-- Á¨¨‰∏âË°åÔºöZXCVBNM + ÈÄÄÊ†º -->
                    <div class="mobile-key-row">
                        <div class="mobile-key" data-key="z">Z</div>
                        <div class="mobile-key" data-key="x">X</div>
                        <div class="mobile-key" data-key="c">C</div>
                        <div class="mobile-key" data-key="v">V</div>
                        <div class="mobile-key" data-key="b">B</div>
                        <div class="mobile-key" data-key="n">N</div>
                        <div class="mobile-key" data-key="m">M</div>
                        <div class="mobile-key mobile-key-special" data-key="backspace">‚å´</div>
                    </div>
                    
                    <!-- Á¨¨ÂõõË°åÔºöÊï∞Â≠ó/Á¨¶Âè∑/Á©∫Ê†º/ÂõûËΩ¶ -->
                    <div class="mobile-key-row">
                        <div class="mobile-key mobile-key-function" data-key="123">123</div>
                        <div class="mobile-key" data-key=",">Ôºå</div>
                        <div class="mobile-key mobile-key-space" data-key="space">Á©∫Ê†º</div>
                        <div class="mobile-key" data-key=".">„ÄÇ</div>
                        <div class="mobile-key mobile-key-special" data-key="enter">‚Üµ</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="phone-bottom" style="width: 200px; height: 20px; background-color: #222; border-radius: 20px; margin-top: 20px;"></div>
    </div>
    </div>

    <script>
        // FirebaseÈÖçÁΩÆ
        const firebaseConfig = {
            apiKey: "AIzaSyA5Z5ieEbAcfQX0kxGSn9ldGXhzvAwx_8M",
            authDomain: "chat-294cc.firebaseapp.com",
            databaseURL: "https://chat-294cc-default-rtdb.firebaseio.com",
            projectId: "chat-294cc",
            storageBucket: "chat-294cc.firebasestorage.app",
            messagingSenderId: "913615304269",
            appId: "1:913615304269:web:0274ffaccb8e6b678e4e04",
            measurementId: "G-SJR9NDW86B"
        };

        // ÂàùÂßãÂåñFirebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const messagesRef = database.ref('messages');

        // ÁîüÊàêÁî®Êà∑IDÔºàÁÆÄÂçïÁöÑÈöèÊú∫IDÔºâ
        let userId = localStorage.getItem('userId');
        if (!userId) {
            userId = 'user_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('userId', userId);
        }

        // Áî®Êà∑È¢úËâ≤ÔºàÁî®‰∫éÂå∫ÂàÜ‰∏çÂêåÁî®Êà∑Ôºâ
        const userColors = ['#4CAF50', '#2196F3', '#FF9800', '#9C27B0', '#F44336', '#00BCD4'];
        let userColor = localStorage.getItem('userColor');
        if (!userColor) {
            userColor = userColors[Math.floor(Math.random() * userColors.length)];
            localStorage.setItem('userColor', userColor);
        }

        $(document).ready(function() {
            // ÂàùÂßãÂåñÂÆåÊàê
            console.log('ÊâãÊú∫Ê®°ÊãüÂô®Âä†ËΩΩÂÆåÊàê');
            
            // ÂàùÂßãÂåñÊ∂àÊÅØÁõëÂê¨
            initializeChat();

            // Â∫îÁî®ÂõæÊ†áÁÇπÂáª‰∫ã‰ª∂
            $('.app-icon').click(function() {
                const appName = $(this).data('app');
                // ÈöêËóè‰∏ªÂ±èÂπïÂíådock
                $('#appGrid').hide();
                $('.dock').hide();
                // ÈöêËóèÊâÄÊúâÂ∫îÁî®ÂÜÖÂÆπ
                $('.app-content').hide();
                // ÊòæÁ§∫ÂØπÂ∫îÂ∫îÁî®
                $(`#${appName}App`).show();
                // ÊªöÂä®Âà∞Ê∂àÊÅØÂ∫ïÈÉ®ÔºàÊ∂àÊÅØÂ∫îÁî®Ôºâ
                if (appName === 'message') {
                    const messages = $('#chatMessages');
                    setTimeout(() => {
                        messages.animate({
                            scrollTop: messages[0].scrollHeight
                        }, 300);
                    }, 150);
                }
                if (appName === 'camera') {
                    startCamera();
                } else {
                    stopCamera();
                }
            });
            
            // ËøîÂõû‰∏ªÈ°µÊåâÈíÆ
            $('#backToHome, #backToHome2, #backToHome3, #backToHome4, #backToHome5, #backToHome6, #backToHome7, #backToHome8, #backToHome9').click(function() {
                $('.app-content').hide();
                $('#appGrid').show();
                $('.dock').show();
                hideMobileKeyboard();
                stopCamera();
            });
            
            // ËÅäÂ§©ËæìÂÖ•Ê°ÜÁÇπÂáªÊòæÁ§∫ÈîÆÁõò
            $('#chatInput').click(function() {
                console.log('ËæìÂÖ•Ê°ÜË¢´ÁÇπÂáªÔºåÊòæÁ§∫ÈîÆÁõò');
                showMobileKeyboard();
            });
            
            // Ë∞ÉËØïÊåâÈíÆ - Âº∫Âà∂ÊòæÁ§∫ÈîÆÁõò
            $('#debugKeyboard').click(function() {
                console.log('Ë∞ÉËØïÊåâÈíÆË¢´ÁÇπÂáªÔºåÂº∫Âà∂ÊòæÁ§∫ÈîÆÁõò');
                if ($('#phoneKeyboard').is(':visible')) {
                    hideMobileKeyboard();
                } else {
                    showMobileKeyboard();
                }
            });
            
            // Â¢ûÂº∫ËæìÂÖ•Ê°Ü‰ΩìÈ™å
            $('#chatInput').focus(function() {
                showMobileKeyboard();
            });
            
            // ÊòæÁ§∫ÊâãÊú∫ÈîÆÁõò
            function showMobileKeyboard() {
                $('#phoneKeyboard').css('display', 'flex').addClass('show');
                $('.chat-input').css('bottom', '250px');
                // Ë∞ÉÊï¥Ê∂àÊÅØÂå∫ÂüüÈ´òÂ∫¶
                $('.chat-messages').css('max-height', 'calc(100% - 380px)');
                // ÊªöÂä®Âà∞ÊúÄÊñ∞Ê∂àÊÅØ
                setTimeout(() => {
                    const messages = $('#chatMessages');
                    messages.animate({
                        scrollTop: messages[0].scrollHeight
                    }, 300);
                }, 100);
                console.log('ÊâãÊú∫ÈîÆÁõòÂ∑≤ÊòæÁ§∫');
            }
            
            // ÈöêËóèÊâãÊú∫ÈîÆÁõò
            function hideMobileKeyboard() {
                $('#phoneKeyboard').hide();
                $('.chat-input').css('bottom', '12px');
                // ÊÅ¢Â§çÊ∂àÊÅØÂå∫ÂüüÈ´òÂ∫¶
                $('.chat-messages').css('max-height', 'calc(100% - 140px)');
                console.log('ÊâãÊú∫ÈîÆÁõòÂ∑≤ÈöêËóè');
            }
            
            // ÊâãÊú∫ÈîÆÁõòÊåâÈîÆ‰∫ã‰ª∂
            $(document).on('click', '.mobile-key', function() {
                const $key = $(this);
                const keyValue = $key.data('key');
                const input = $('#chatInput');
                
                console.log('ÊâãÊú∫ÈîÆÁõòÊåâÈîÆË¢´ÁÇπÂáª:', keyValue);
                
                // Ê∑ªÂä†Êåâ‰∏ãÊïàÊûú
                $key.addClass('pressed');
                setTimeout(() => {
                    $key.removeClass('pressed');
                }, 150);
                
                // ÊåØÂä®ÂèçÈ¶à
                if (navigator.vibrate) {
                    navigator.vibrate(30);
                }
                
                // Â§ÑÁêÜÊåâÈîÆ
                switch(keyValue) {
                    case 'backspace':
                        const currentValue = input.val();
                        if (currentValue.length > 0) {
                            input.val(currentValue.slice(0, -1));
                        }
                        break;
                    case 'space':
                        input.val(input.val() + ' ');
                        break;
                    case 'enter':
                        sendChatMessage();
                        break;
                    case '123':
                        // Êï∞Â≠óÊ®°ÂºèÂàáÊç¢ÔºàÊöÇÊó∂ÂøΩÁï•Ôºâ
                        break;
                    case ',':
                    case '.':
                        input.val(input.val() + $key.text());
                        break;
                    default:
                        if (keyValue && keyValue.length === 1 && /[a-zA-Z]/.test(keyValue)) {
                            input.val(input.val() + keyValue.toLowerCase());
                        }
                        break;
                }
                
                // ‰øùÊåÅËæìÂÖ•Ê°ÜÁÑ¶ÁÇπ
                input.focus();
            });
            

            

            
            // ÂèëÈÄÅÊ∂àÊÅØÊåâÈíÆ
            $('#sendMessage').click(function() {
                sendChatMessage();
            });
            
            // ÁÇπÂáªÂ±èÂπïÂÖ∂‰ªñÂú∞ÊñπÈöêËóèÈîÆÁõò
            $(document).click(function(event) {
                if (!$(event.target).closest('.input-box, #phoneKeyboard, .send-btn').length) {
                    hideMobileKeyboard();
                }
            });
            
            // ÈîÅÂ±èËß£ÈîÅÔºàÊ∑°Âá∫Âä®ÁîªÔºâ
            $('#lockScreen').click(function() {
                $('#lockScreen').fadeOut(500, function() {
                    $('#appGrid').show();
                    $('.dock').show();
                });
            });
            
            // ÂàùÂßãÊòæÁ§∫ÈîÅÂ±è
            $('#lockScreen').show();
            $('#appGrid').hide();
            $('.dock').hide();
            
            // ÂÆûÊó∂Êõ¥Êñ∞Êó∂Èó¥
            function updateLockTime() {
                const now = new Date();
                const h = now.getHours().toString().padStart(2, '0');
                const m = now.getMinutes().toString().padStart(2, '0');
                $('#lockTime').text(`${h}:${m}`);
                $('#currentTime').text(`${h}:${m}`);
                
                // Êõ¥Êñ∞Êó•Êúü
                const year = now.getFullYear();
                const month = now.getMonth() + 1;
                const day = now.getDate();
                const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                const weekday = weekdays[now.getDay()];
                $('#currentDate').text(`${month}/${day}/${year} ${weekday}`);
                
                // Áä∂ÊÄÅÊ†èÊó∂Èó¥Â∑≤ÁßªÈô§
            }
            
            // ÊØèÁßíÊõ¥Êñ∞Êó∂Èó¥
            setInterval(updateLockTime, 1000);
            updateLockTime();
        });

        // ÂàùÂßãÂåñËÅäÂ§©ÂäüËÉΩ
        function initializeChat() {
            // Ê∑ªÂä†‰∏Ä‰∫õÁ§∫‰æãÊ∂àÊÅØÁî®‰∫éÂ±ïÁ§∫ÊªöÂä®ÂäüËÉΩ
            const sampleMessages = [];
            
            // ÊòæÁ§∫Á§∫‰æãÊ∂àÊÅØ
            sampleMessages.forEach(messageData => {
                displayMessage(messageData);
            });
            
            // ÁõëÂê¨Êñ∞Ê∂àÊÅØ
            messagesRef.limitToLast(50).on('child_added', function(snapshot) {
                const messageData = snapshot.val();
                // ÈÅøÂÖçÈáçÂ§çÊòæÁ§∫Á§∫‰æãÊ∂àÊÅØ
                if (messageData && messageData.timestamp) {
                    displayMessage(messageData);
                }
            });
        }

        // ÊòæÁ§∫Ê∂àÊÅØ
        function displayMessage(messageData) {
            const messages = $('#chatMessages');
            const isCurrentUser = messageData.userId === userId;
            const messageClass = isCurrentUser ? 'user' : 'friend';
            const backgroundColor = isCurrentUser ? '#4CAF50' : messageData.userColor || '#555';
            
            // Âº∫Âà∂Â∞ÜÊâÄÊúâÂ∑≤Áü•‰∏≠ÊñáÁî®Êà∑ÂêçËΩ¨‰∏∫Ëã±Êñá
            if (messageData.userName === 'Êàë') messageData.userName = 'Me';
            if (messageData.userName === 'Á≥ªÁªü') messageData.userName = 'System';
            if (messageData.userName === 'ÊúãÂèã1') messageData.userName = 'Friend 1';
            if (messageData.userName === 'ÊúãÂèã2') messageData.userName = 'Friend 2';
            if (/^Áî®Êà∑/.test(messageData.userName)) messageData.userName = messageData.userName.replace(/^Áî®Êà∑/, 'User');
            
            const messageElement = `
                <div style="clear: both; margin-bottom: 5px;">
                    <div class="message ${messageClass}" style="background-color: ${backgroundColor};">
                        <div class="message-time">${messageData.time}</div>
                        ${!isCurrentUser ? `<div class="message-user">${messageData.userName}</div>` : ''}
                        <div>${messageData.text}</div>
                    </div>
                </div>
            `;
            
            messages.append(messageElement);
            
            // Âπ≥ÊªëÊªöÂä®Âà∞Â∫ïÈÉ®
            setTimeout(() => {
                messages.animate({
                    scrollTop: messages[0].scrollHeight
                }, 300);
            }, 50);
        }

        // ÂèëÈÄÅÊ∂àÊÅØÂáΩÊï∞
        function sendChatMessage() {
            const input = $('#chatInput');
            const message = input.val().trim();
            if (message) {
                const now = new Date();
                const h = now.getHours().toString().padStart(2, '0');
                const m = now.getMinutes().toString().padStart(2, '0');
                
                // ÂßãÁªàÁî®Ëã±ÊñáÁî®Êà∑Âêç
                let displayName = localStorage.getItem('userDisplayName');
                if (!displayName) {
                    displayName = `User${userId.slice(-4)}`;
                    localStorage.setItem('userDisplayName', displayName);
                }
                
                // ÂàõÂª∫Ê∂àÊÅØÂØπË±°
                const messageData = {
                    text: message,
                    userId: userId,
                    userName: displayName,
                    userColor: userColor,
                    time: `${h}:${m}`,
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                };
                
                // ÂèëÈÄÅÂà∞Firebase
                messagesRef.push(messageData).then(() => {
                    input.val('');
                    hideMobileKeyboard();
                }).catch((error) => {
                    console.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•:', error);
                    
                });
            }
        }

        let cameraStream = null; // Store webcam stream
        function startCamera() {
            if (cameraStream) return; // already running
            const video = document.getElementById('cameraPreview');
            const placeholder = document.getElementById('cameraPlaceholder');
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                alert('Webcam is not supported in this browser.');
                return;
            }
            navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
                cameraStream = stream;
                video.srcObject = stream;
                placeholder.style.display = 'none';
            }).catch(err => {
                console.error('Failed to access camera', err);
                alert('Unable to access the camera. Please allow camera permission.');
            });
        }
        function stopCamera() {
            if (cameraStream) {
                cameraStream.getTracks().forEach(t => t.stop());
                cameraStream = null;
                document.getElementById('cameraPlaceholder').style.display = 'flex';
            }
        }
    </script>
</body>
</html>
